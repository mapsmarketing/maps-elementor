(()=>{"use strict";function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e,n){for(var s,l=0;l<n.length;l++)(s=n[l]).enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,t(s.key),s)}function t(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var s=n[Symbol.toPrimitive];if(void 0!==s){var l=s.call(n,t||"default");if("object"!=e(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:t+""}function s(n,t,s){return t=i(t),function(n,t){if(t&&("object"==e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)}(n,l()?Reflect.construct(t,s||[],i(n).constructor):t.apply(n,s))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function r(e,n){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},r(e,n)}var o,a;o=jQuery,a=function(){function e(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&r(e,n)}(e,elementorModules.frontend.handlers.Base),t=e,l=[{key:"getDefaultSettings",value:function(){return{lastScrollTop:0,selectors:{widget:".maps-menu-full-screen",main:".maps-menu-full-screen__main",menu:".maps-menu-full-screen__menu",toggle:".maps-menu-full-screen__main__right__toggle",subMenu:".maps-menu-full-screen__menu__primary .sub-menu",subMenuToggle:".maps-menu-full-screen__menu__primary li.menu-item-has-children > a",subMenuBackBtn:".menu-item-back a",search:".maps-menu-full-screen__search",searchToggle:".maps-menu-full-screen__main__right__search",searchInput:".maps-menu-full-screen__search__text",searchResults:".maps-menu-full-screen__search__results"}}}},{key:"getDefaultElements",value:function(){var e=this.getSettings("selectors");return{$widget:this.$element.find(e.widget),$main:this.$element.find(e.main),$menu:this.$element.find(e.menu),$toggle:this.$element.find(e.toggle),$subMenu:this.$element.find(e.subMenu),$subMenuToggle:this.$element.find(e.subMenuToggle),$search:this.$element.find(e.search),$searchToggle:this.$element.find(e.searchToggle),$searchResults:this.$element.find(e.searchResults),$searchInput:this.$element.find(e.searchInput)}}},{key:"bindEvents",value:function(){var e=this.getSettings("selectors");this.onWindowScroll(),this.onWindowResize(),o(window).on("scroll",this.onWindowScroll.bind(this)),o(window).on("resize",this.onWindowResize.bind(this)),this.elements.$searchToggle.on("click",this.onToggleSearch.bind(this)),this.elements.$toggle.on("click",this.onToggleMenu.bind(this)),this.elements.$subMenuToggle.on("click",this.onToggleSubMenu.bind(this)),this.$element.find(".maps-menu-full-screen__menu__primary").on("click",e.subMenuBackBtn,this.onSubMenuBack.bind(this)),this.elements.$searchInput.on("keyup",this.onSearch.bind(this))}},{key:"onWindowScroll",value:function(){var e=o(window),n=this.getSettings("lastScrollTop");300>=e.scrollTop()?(this.elements.$main.removeClass("maps-menu-full-screen__main--sticky"),this.elements.$main.removeClass("maps-menu-full-screen__main--scroll-up"),this.elements.$main.removeClass("maps-menu-full-screen__main--scroll-down")):this.elements.$main.addClass("maps-menu-full-screen__main--sticky"),300<e.scrollTop()&&(e.scrollTop()>n?(this.elements.$main.addClass("maps-menu-full-screen__main--scroll-down"),this.elements.$main.removeClass("maps-menu-full-screen__main--scroll-up")):(this.elements.$main.addClass("maps-menu-full-screen__main--scroll-up"),this.elements.$main.removeClass("maps-menu-full-screen__main--scroll-down"))),this.setSettings("lastScrollTop",e.scrollTop()),this.positionPanels()}},{key:"onWindowResize",value:function(){this.positionPanels()}},{key:"positionPanels",value:function(){var e=o("#wpadminbar"),n=this.elements.$main.innerHeight(),t=0;e.length&&(n+=e.innerHeight(),t=e.innerHeight()),this.elements.$menu.css({height:"calc(100vh - ".concat(n,"px)"),top:n-t}),this.elements.$search.css({height:"calc(100vh - ".concat(n,"px)"),top:n-t})}},{key:"onToggleSearch",value:function(){return this.elements.$searchToggle.hasClass("on")?(o("body").removeClass("maps-menu-full-screen--active"),this.hideSearch(),this.elements.$searchToggle.removeClass("on"),this.elements.$main.removeClass("on")):(o("body").addClass("maps-menu-full-screen--active"),this.hideMenu(),this.elements.$searchToggle.addClass("on"),this.$element.find(".maps-menu-full-screen__main__left__logo").removeClass("off"),this.$element.find(".maps-menu-full-screen__main__right .elementor-button").removeClass("off"),this.elements.$searchToggle.addClass("on"),this.elements.$search.addClass("on"),this.elements.$main.addClass("on")),!1}},{key:"onToggleMenu",value:function(){return this.elements.$toggle.hasClass("on")?(o("body").removeClass("maps-menu-full-screen--active"),this.hideMenu(),this.elements.$toggle.removeClass("on"),this.elements.$main.removeClass("on")):(o("body").addClass("maps-menu-full-screen--active"),this.hideSearch(),this.elements.$toggle.addClass("on"),this.$element.find(".maps-menu-full-screen__main__left__logo").removeClass("off"),this.$element.find(".maps-menu-full-screen__main__right .elementor-button").removeClass("off"),this.elements.$toggle.addClass("on"),this.elements.$main.addClass("on"),this.elements.$menu.addClass("on")),!1}},{key:"onToggleSubMenu",value:function(e){var n=o(e.currentTarget),t=this.$element.find(".maps-menu-full-screen__menu__bg"),s=n.data("featured-image");return this.$element.find(".menu > li.on").removeClass("on"),n.closest("li").toggleClass("on"),t.removeClass("on"),s&&(t.css("background-image","url(".concat(s,")")),setTimeout((function(){t.addClass("on")}),500)),!1}},{key:"onSubMenuBack",value:function(){return this.$element.find(".maps-menu-full-screen__menu__primary .menu-item.on").removeClass("on"),!1}},{key:"onSearch",value:function(){var e=this.elements.$searchResults;3<this.elements.$searchInput.val().length&&(e.html('<i class="fa-3x fas fa-spinner fa-spin"></i>'),o.getJSON(mapsObject.ajax_url,{action:"maps_menu_full_screen_search",s:encodeURIComponent(this.elements.$searchInput.val())}).done((function(n){e.html(""),0!==Object.keys(n).length?o.each(n,(function(n,t){var s=o('\n                <div class="maps-menu-full-screen__search__results__type">\n                  <h4 class="maps-menu-full-screen__search__results__type__title">'.concat(n," (").concat(t.length,')</h4>\n                  <ul class="maps-menu-full-screen__search__results__type__list"></ul>\n                </div>\n              '));o.each(t,(function(e,n){var t=o("<li>"),l=o('\n                  <a href="'.concat(n.url,'" target="_blank" class="maps-menu-full-screen__search__results__type__list__item"></a>\n                '));n.thumbnail&&l.append(o("<img>").attr("src",n.thumbnail)),l.append(o('\n                    <span class="maps-menu-full-screen__search__results__type__list__item__title">'.concat(n.title,"</span>\n                  "))),t.append(l),s.find(".maps-menu-full-screen__search__results__type__list").append(t)})),e.append(s)})):e.html("No results for your query")})))}},{key:"hideSearch",value:function(){this.elements.$searchInput.val(""),this.elements.$searchResults.html(""),this.elements.$searchToggle.removeClass("on"),this.elements.$search.removeClass("on")}},{key:"hideMenu",value:function(){this.elements.$toggle.removeClass("on"),this.elements.$menu.removeClass("on")}},{key:"onInit",value:function(){elementorModules.frontend.handlers.Base.prototype.onInit.apply(this,arguments),"no"===this.getElementSettings().transparent_header&&this.$element.height(this.elements.$widget.height()),this.elements.$subMenu.each((function(){var e=o("<li>").addClass("menu-item menu-item-back").append(o("<a>").attr("href","#back").html("Menu"));o(this).prepend(e)}))}}],l&&n(t.prototype,l),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,l,i}(),o(window).on("elementor/frontend/init",(function(){elementorFrontend.elementsHandler.attachHandler("maps-menu-full-screen",a,"default")}))})();